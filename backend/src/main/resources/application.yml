spring:
  application:
    name: web-messenger

  # R2DBC PostgreSQL 설정
  r2dbc:
    url: r2dbc:postgresql://localhost:5432/messenger
    username: messenger
    password: messenger

  # Redis 설정 (Valkey 호환)
  data:
    redis:
      host: localhost
      port: 6379

  # Docker Compose Support
  docker:
    compose:
      lifecycle-management: start_and_stop

  # OAuth2 설정
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_CLIENT_ID:your-client-id}
            client-secret: ${GOOGLE_CLIENT_SECRET:your-client-secret}
            scope: openid, profile, email

# 서버 설정
server:
  port: 8080

# JWT 설정
jwt:
  secret: ${JWT_SECRET:mySecretKeyForJwtTokenGenerationThatIsAtLeast256BitsLong}
  access-token-expiry: 3600000   # 1시간 (밀리초)
  refresh-token-expiry: 604800000 # 7일 (밀리초)

# App 설정
app:
  oauth:
    google:
      redirect-uri: ${GOOGLE_REDIRECT_URI:http://localhost:8080/api/v1/auth/oauth2/callback/google}

# 로깅 설정
logging:
  level:
    root: INFO
    com.messenger: DEBUG
    org.springframework.web.reactive: DEBUG
    org.springframework.security: DEBUG
